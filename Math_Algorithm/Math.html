<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        h3 {
            color: red;
        }
    </style>
    <title>Math Algorithm</title>
</head>

<body>
    <div>
        <h2>Click the button to show result</h2>
        <div>
            <h3>1. Factorial (4 * 3 * 2 * 1) = 24</h3>
            <label for="test">input digit number</label><br />
            <input type="text" name="" id="input">
            <button onclick="FirstFactorial()">Show Result</button>
            <div id="result"></div>
        </div>

        <div>
            <h3>2. Username Validation</h3>
            <ul>
                <li>1. The username is between 4 and 25 characters.</li>
                <li>2. It must start with a letter.</li>
                <li>3. It can only contain letters, numbers, and the underscore character.</li>
                <li>4. It cannot end with an underscore character.</li>
            </ul>
            <label for="">input string to check valit or not</label><br>
            <input type="text" name="" id="input_str">
            <button onclick="string()">Show Result</button>
            <div id="result1"></div>
        </div>


        <div>
            <h3>3. Find Intersection</h3>
            <p>
                Input: ["1, 3, 4, 7, 13", "1, 2, 4, 13, 15"]
                <br>
                Output: 1,4,13
            </p>
            <div id="result_array"></div>
        </div>

        <div>
            <h3>4. Questions Marks</h3>
            <label for="test">input </label><br />
            <input type="text" name="" id="question_mark">
            <button onclick="qustionMark()">Show Result</button>
            <div id="result_qustion_mark"></div>
        </div>

    </div>

    <script>
        // 1. (4 * 3 * 2 * 1) = 24
        function FirstFactorial() {
            const input = document.getElementById("input").value;
            let result = 1;
            for (let i = 1; i <= input; i++) {
                // console.log(i)
                result *= i;
            }
            document.getElementById("result").innerHTML = result
        }
        //2.validate string
        function string() {
            const input_str = document.getElementById("input_str").value;
            //regex
            const valid_reg = /^[A-Za-z]\w+[A-Za-z0-9]$/;
            const valid_length = (input_str) => input_str.length >= 4 && input_str.length <= 25;
            let result = valid_reg.test(input_str) && valid_length(input_str);

            document.getElementById("result1").innerHTML = result
        }
        //3. Find Intersection
        const input_list1 = ["1, 3, 4, 7, 13", "1, 2, 4, 13, 15"]

        function intersection(item) {
            let list_value1 = input_list1[0].split(', ')
            let list_value2 = input_list1[1].split(', ')
            //console.log(list_value1) //Array(5) [ "1", "3", "4", "7", "13" ]
            //console.log(list_value2) //Array(5) [ "1", "2", "4", "13", "15" ]

            //let test = list_value1.filter(i => i > 4) // Array [ "7", "13" ]
            //let test1 = list_value2.find(a => a > 4) // 13

            //i is the each element in list_value1
            //a is the each element in list_value2
            let result = list_value1.filter(i => list_value2.find(a => a === i))


            //or 
            // let newArr = [];
            // for (let i = 0; i < elem1.length; i++) {
            //     if (elem2.includes(elem1[i])) {
            //         newArr.push(elem1[i]);
            //     }
            // }
            // return newArr.length === 0? false :newArr.toString()

            return result.length > 0 ? result.join(',') : 'false'
        }

        document.getElementById("result_array").innerHTML = intersection()


        //4. question mark 
        function qustionMark() {
            let question = document.getElementById("question_mark").value
            let ques_result = false
            for (let i = 0; i < question.length; i++) {
                // console.log(i)
                for (let j = i + 1; j < question.length; j++) {
                    //console.log(Number(question[i])) // NaN 6 Nan 4 NaN 5
                    console.log(question.slice(i, j).split("?"))

                    if (Number(question[i]) + Number(question[j]) === 10) {
                        ques_result = true;
                        // slice i to j
                        if (question.slice(i, j).split("?").length - 1 < 3) {
                            return false;
                        }
                    }
                }
            }
            document.getElementById("result_qustion_mark").innerHTML = ques_result

        }
    </script>
</body>

</html>